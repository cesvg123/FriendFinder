<!doctype html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Contact | Your Name</title>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:100,100i,300,400,400i,600,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" a href="./home.html" class="text-center">Friend Finder</a>
    </nav>
    <div>
        <h4 class="panel"><strong>Survey to find Friends</strong></h4>
    </div>
    <form role="form">
        <h4><strong>About you</strong></h4>
        <h4>Name</h4>
        <input type="text" name="" id="name" class="form-control" required>

        <h4>Photograph</h4>
        <input type="text" name="" id="Photograph" class="form-control" required>

        <h4><strong>Survey Questions</strong></h4>
        <Div>
            <h4>You would like to have a friend who is there for you?</h4>
            <select data-placeholder="" class="chosen-select" id="q1">
                <option value=""></option>
                <option selected="selected" value="1"> 1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4>Are you a fun person?</h4>
            <select data-placeholder="" class="chosen-select" id="q2">
                <option value=""></option>
                <option selected="selected" value="1"> 1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4>Do you like to dance?</h4>
            <select data-placeholder="" class="chosen-select" id="q3">
                <option value=""></option>
                <option selected="selected" value="1"> 1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4>Do you like to watch movies?</h4>
            <select data-placeholder="" class="chosen-select" id="q4">
                <option value=""></option>
                <option selected="selected" value="1"> 1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4>Do you like to exercise?</h4>
            <select data-placeholder="" class="chosen-select" id="q5">
                <option value=""></option>
                <option selected="selected" value="1"> 1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4>Do you have a kid?</h4>
            <select data-placeholder="" class="chosen-select" id="q6">
                <option value=""></option>
                <option selected="selected" value="1"> 1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4>Are you easy going?</h4>
            <select data-placeholder="" class="chosen-select" id="q7">
                <option value=""></option>
                <option selected="selected" value="1"> 1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </Div>
        <div>
            <button type="submit" id="submit" class="btn btn-secondary">Submit</button>
        </div>
    </form>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h4 id="matchName"></h4>
                    <img id="matchImage" src="https://lorempixel.com/200/200/">;
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-secondary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#exampleModal">
        Launch demo modal
    </button>
    <!-- <div class="modalHeader">
        <button type="button" class="close" data-dismiss="modal">X</button>
        <h4 class="modalTitle"><strong> Compatible Friends</strong></h4>
    </div>
    <div class="modalBody">
        <h4 id="matchName"></h4>
        <img id="matchgImage" src="https://lorempixel.com/200/200/">;
    </div>
    <div class="modalFooter">
        <button type="button" class="btn btn-secondary" id="modalClose" data-dismiss="modal">Close</button>
    </div>
    <footer>
        <div>
            <button type="submit" id="submit" class="btn btn-secondary" href="/api/friend">API Friend Links</button>
        </div>
        <!-- <h4 class="bold"><p href="/api/friend">API Friend Link</p>
            </h4> --> -->
    </footer>

    <script>
        var currentURL = window.location.origin;
        $("#submit").on("click", function () {
            if (($("#name").val().trim() !== "") && ($("#Photograph").val().trim() !== "")) {
                var data = {
                    name: $("#name").val(),
                    Photograph: $("#Photograph").val(),
                    scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5")
                        .val(), $("#q6").val(), $("#q7").val(),
                    ]
                }
                $.post(currentURL + "/api/friend", data, function (dataF) {
                    $("#matchName").text(dataF.name);
                    $("#matchImage").attr("src", data.Photograph);
                    $("#modalResult").modal("toggle");
                    $("#name").val("");
                    $("#Photograph").val("");
                });
            } else {
                $(".modalTitle").text("Information Missing")
                $(".modalText").html("Please Complete the form before submittion")
                $("#modalResult").modal("toggle");
            }
            return false;
        });

        $("#modalClose").click(function () {
            $.get("./home.html", function (req, res) {
                location.replace(res);
            })
        });
    </script>

</body>

</html>